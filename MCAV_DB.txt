SELECT * FROM CUSTOMER;


-- DROP TABLE ORDER_TXN;

-- CREATE TABLE ORDER_TXN (
--     ORDER_ID SERIAL PRIMARY KEY,
--     ORDER_IMG VARCHAR(255),
--     ORDER_NAME VARCHAR(100) NOT NULL,
--     ORDER_SIZE VARCHAR(50),
--     ORDER_QUANTITY INT,
--     ORDER_DATE DATE,
--     ORDER_DUE DATE,
--     ORDER_STATUS VARCHAR(50),
--     ORDER_PMT_STATUS VARCHAR(50),
--     ORDER_TOTAL DECIMAL(18, 2) NOT NULL,
--     LAST_UPDATED TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
-- 	   CUS_CODE INT,
--     PROD_ID INT,
--     FOREIGN KEY (CUS_CODE) REFERENCES CUSTOMER(CUS_CODE) ON UPDATE CASCADE ON DELETE CASCADE,
--     FOREIGN KEY (PROD_ID) REFERENCES PRODUCT(PROD_ID) ON UPDATE CASCADE ON DELETE CASCADE  
-- );


-- CREATE OR REPLACE FUNCTION FNC_LAST_UPDATED_COLUMN()
-- RETURNS TRIGGER AS $$
-- BEGIN
--     NEW.LAST_UPDATED = CURRENT_TIMESTAMP;
--     RETURN NEW;
-- END;
-- $$ language 'plpgsql';

-- CREATE TRIGGER TRG_UDPATE_LAST_UPDATED
-- BEFORE UPDATE ON PRODUCT
-- FOR EACH ROW
-- EXECUTE FUNCTION FNC_LAST_UPDATED_COLUMN();

-- CREATE TABLE PRODUCT (
--     PROD_ID SERIAL PRIMARY KEY,
--     PROD_IMG VARCHAR(255),
--     PROD_NAME VARCHAR(100) NOT NULL,
--     PROD_CATEGORY VARCHAR(50) NOT NULL,
--     PROD_PRICE DECIMAL(10, 2) NOT NULL,
--     PROD_PRICE_TYPE VARCHAR(50) NOT NULL,
--     PROD_QUANTITY INT,
--     PROD_THICKNESS DECIMAL(5, 2),
--     PROD_ROLLSIZE VARCHAR(50),
--     LAST_UPDATED TIMESTAMP DEFAULT CURRENT_TIMESTAMP
-- );

-- CREATE TABLE CUSTOMER (
--     CUS_CODE SERIAL PRIMARY KEY,
--     CUS_FNAME VARCHAR(50) NOT NULL,
--     CUS_LNAME VARCHAR(50) NOT NULL,
--     CUS_EMAIL VARCHAR(100) UNIQUE,
--     CUS_PHONE VARCHAR(11),
--     CUS_ADDRESS VARCHAR(255),
--     LAST_UPDATED TIMESTAMP DEFAULT CURRENT_TIMESTAMP
-- );
